# 08-字符数组与字符串

## 一 字符数组

C 语言中没有字符串这种数据类型，可以通过 char 的数组来替代：

```c++
#include <stdio.h>

int main(){

  // 普通字符数组
  char c1[] = { 'c', ' ', 'p', 'r', 'o', 'g' };
  // 不能直接使用 c1 = {'a', 'b'}
  printf("c1 = %s\n", c1); //乱码，因为没有以 '\0' 结束符
  return 0;
}
```

## 二 字符串

### 2.1 字符串概念

字符串是以字符串结束符 `'\0'` 结束的字符序列，一般包括：可见字符、空白符、转义字符等。

```c
char str[100];
printf("input string1 : \n");

// scanf(“%s”,str)默认以空格分隔
scanf("%s", str);
printf("output:%s\n", str);
```

字符串通常以常量的形式出现，以常量出现时，结束符 `'\0'` 不需要直接写出，可以隐藏，结束符也不计入字符串长度内，比如空字符串 `""` 只包含一个字符串结束符，所以长度为 0。

### 2.2 字符数组表示字符串

字符串还可以以字符数组的形式表示，不过字符数组要表示字符串必须以，`'\0'`在 ASCII 码中是一个空操作符，正好在 C 中可以代表什么都不做。

```c
// 以 0 结尾的字符数组，字符串
char c2[] = { 'c', ' ', 'p', 'r', 'o', 'g', '\0'};
printf("c2 = %s\n", c2);

//字符串处理以'\0'作为结束符，后面的'h', 'l', 'l', 'e', 'o'不会输出
char c3[] = { 'c', ' ', 'p', 'r', 'o', 'g', '\0', 'h', 'l', 'l', 'e', 'o', '\0'};
printf("c3 = %s\n", c3);
```

### 2.3 字符串常量与字符数传数组区别

字符串是一个特殊的字符数组，C 语言的字符串与字符数组关系密切，但在一些特殊场景不能互换、混用。

如果字符数组没有使用 `'\0'` 结尾，只能说是该数组保存了一个字符序列，而非字符串，而且在保存了结束标志后，字符数组的长度等于字符串长度+1。

字符串常量在程序内部也是保存在字符数组中的，并在其后以 `'\0'` 结尾。与字符数组表示的字符串不同的是：字符串常量位于特殊的存储区域，其内容在字符串定义时被初始化，并添加字符串结束标志 `'\0'` ，并且是只读的！

### 2.4 使用指针指向字符串

```c
    char[] *c = "abc";
    printf("%c\n", c[1]); // b
    printf("%s\n", c);    // abc
```
