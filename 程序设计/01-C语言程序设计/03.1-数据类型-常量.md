# 03.1-数据类型-常量

## 一 计算机数据分类

在计算机高级语言中，数据有两种表现形式：

- 常量：在程序运行中，值不能被改变的量。一般有数字常量、字符常量、字符串常量。
- 变量：在程序运行中，值能够被改变的量。

贴士：变量其实是一个有名字的，具有特定属性的存储单元，用于存放数据。在程序运行期间，变量的值是可以改变的。变量必须先定义，后使用，在定义时需要指定变量的名字和类型。变量特点：

- 变量在编译时为其分配相应的内存空间
- 可以通过其名字和地址访问相应内存

## 二 常量分类

常量的具体划分有：

- 整型常量：如 100，31，-467 等。-0 也是合法的。
- 实型常量：有两种形式
  - 十进制小数：由数字和小数点组成，如：`0.12`，`.23`，`6.` 都是正确的
  - 指数形式：如 12.34e3，使用 e 与 E 代表以 10 为底的指数
- 字符常量
  - 普通字符：如'a','Z','3','?'
  - 转义字符：以\开头的字符，如"\n"代表换行，"\x31"代表数字 1
- 字符串常量：也称呼为字符串字面量，如"boy"
- 符号常量：使用 `#define` 定义，如：`#define PI 3.14`，注意没有分号

变量代表一个有名字的，具有特定属性的一个存储单元，用于存放数据。

## 三 常变量

C99 允许使用常变量：

```c
const int a = 3;
```

常变量与常量的区别是：常变量具有变量的基本属性，即类型、存储单元、不允许改变值。但是常变量有名字，这样可以被别人引用，而常量没有名字。

符号常量与常变量完全不同，`#define` 只是个预编译指令，在编译后，只是进行了替换了操作！其存在的目的仅仅是让含义更清晰、做到一改全改。由于只是替换，**符号常量没有被分配存储单元**，而**常量要占用存储单元**。

有了常变量以后，可以不再多使用符号常量。

## 四 常量的符号表示方法

为了便于书写，可以用一些符号表示常量，称为符号常量，C 语言提供了两种定义符号常量的机制：

- 通过预编译命令 `#define` 定义
- 枚举常量

### 4.1 常量宏

`#define` 是编译预处理中常用的宏定义命令，定义后的数据可以直接使用：

```c
#define PI 3.14159265

double r = PI + 1.01;
```

常量宏支持表达式：

```c
#define NUM (20 * 5)
#define SUM (NUM + 100)
```

贴士：常量宏不仅可以表示数字，还可以表示字符串、字符等其他常量。

### 4.2 枚举常量

枚举常量上一种用符号表示的整型数字常量，使用标识符表示。如下所示：

```c
    // 定义 4 个枚举常量，默认起始值为0，后续依次+1
    enum {A,B,C,D};

    // 此种定义方法，起始值定义后，后续依次+1
    enum {JAN = 1, FEB, MAR,APR};

    printf("A的值为:%d\n", A);  // 0
    printf("D的值为:%d\n", A);  // 3
    printf("FEB的值为:%d\n", FEB);  // 2
    printf("APR的值为:%d\n", APR);  // 4
```

枚举类型符可以作为一种数据类型说明符，用来定义变量。如：

```c
    // 定义枚举变量 month_t
    enum month_t {JAN = 1, FEB, MAR,APR};

    // 定义2个枚举类型变量
    enum month_t month_1, month_2;
```

在理论上，每一种枚举类型都是一种独特的数据类型，但实际上大多编译系统都把枚举类型的变量等同于一般的整型变量。在程序中可以把任意的整型数值，包括其他类型的枚举常量赋值给一个枚举类型的变量。编译系统不会对赋值数据的范围进行检查，也不会报告语法错误。

### 4.3 符号常量的意义

在程序中使用符号常量往往是为了提升程序的正确性、可读性、可维护性。
